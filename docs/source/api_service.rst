Services
=====================

.. note::
    To get the status of the server at the specified port,
    you can use the ``curl`` or `Postman <https://www.postman.com/>`_ to test your calls. 

getService ``GET``
---------

.. code-block:: javascript

    curl localhost:5003/service/get/:catalog/:module/:procedure/:service/:token

.. note::
    Where token is a uniquely generated token on accessing the app. Default ``development`` is always generated


-------
Returns
-------

``Array`` - List of all services that belong to a specific version of a module's procedure in the catalog

-------
Example
-------

.. code-block:: javascript

    curl localhost:5003/service/get/mytax/0/1/0/development





------------------------------------------------------------------------------




runService ``POST``
---------

.. code-block:: javascript

    localhost:5003/service/run

.. note::
    Where token is a uniquely generated token on accessing the app. Default ``development`` is always generated

-------
Parameters
-------

1. ``module`` ``Int`` - Index of the version of the module 
2. ``catalog`` ``String`` - Name of the specific Catalog
3. ``variables`` ``Object`` - Object of all unique variable names to assign to 1 or more services 
4. ``token`` ``String`` - Autogenerated token on startup of Basestack
5. ``procedure`` - ``Int`` - Index of the procedure for the module. Comprises 1 or more services
6. ``service`` - ``Int`` - Index of the service for the procedure. 

-------
Returns
-------

``Status`` - Success or Error on procedure (1 or more service ) completion

------------------------------------------------------------------------------

.. note:: 
  `Test data <https://drive.google.com/file/d/1zrgwheJxhMTvd7zu0fuRhVYYM0aGY5XS/view?usp=sharing>`_ download from Gdrive location


-------
Example Body
-------


.. code-block:: javascript

  {
    "service": 0,
      "catalog": "mytax",
      "module":0,
      "procedure": 0,
      "token": "development",
      "variables": {
          "file": {
              "source": "/Users/merribb1/Desktop/test-data2/metagenome/sample_metagenome.fastq"
          },
          "db": {
              "option": 1
          }
      }
  }


cancelService ``POST``
---------

.. code-block:: javascript

    localhost:5003/service/cancel

.. note::
    Where token is a uniquely generated token on accessing the app. Default ``development`` is always generated

-------
Parameters
-------

1. ``module`` ``Int`` - Index of the version of the module 
2. ``catalog`` ``String`` - Name of the specific Catalog
3. ``token`` ``String`` - Autogenerated token on startup of Basestack
4. ``procedure`` - ``Int`` - Index of the procedure for the module. Comprises 1 or more services
5. ``service`` - ``Int`` - Index of the service for the procedure. 

-------
Returns
-------

``Status`` - Success or Error on cancelation of the service

------------------------------------------------------------------------------

